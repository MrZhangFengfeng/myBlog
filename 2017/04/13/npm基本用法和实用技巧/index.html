<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="å¼ å­¦å³°çš„ä¸ªäººåšå®¢  ä¸Šæµ·å¤§å­¦ç ”ç©¶ç”Ÿ å‰ç«¯å·¥ç¨‹å¸ˆ">
    <meta name="keyword"  content="å¼ å­¦å³° åšå®¢ æŠ€æœ¯ ä¸Šæµ·å¤§å­¦ å‰ç«¯ å¼ å³°å³° å‰æ®µå·¥ç¨‹å¸ˆ">
    <link rel="shortcut icon" href="/MyBlog/img/favicon.ico">

    <title>
        
          Npm - ZhangFengfengçš„åšå®¢ | ZhangFengfeng&#39;s Blog
        
    </title>

    <link rel="canonical" href="https://github.com/MrZhangFengfeng/MyBlog/MyBlog/2017/04/13/npmåŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/MyBlog/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/MyBlog/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/MyBlog/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/MyBlog/">ZFf Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/MyBlog/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/MyBlog/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/MyBlog/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/MyBlog/about/">About</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://github.com/MrZhangFengfeng/MyBlog/MyBlog/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('npm.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/MyBlog/tags/#çŸ¥è¯†ç‚¹" title="çŸ¥è¯†ç‚¹">çŸ¥è¯†ç‚¹</a>
                        
                          <a class="tag" href="/MyBlog/tags/#å‰ç«¯" title="å‰ç«¯">å‰ç«¯</a>
                        
                    </div>
                    <h1>Npm</h1>
                    <h2 class="subheading">npmåŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§</h2>
                    <span class="meta">
                        Posted by å¼ å­¦å³° on
                        2017-04-13
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <p><img src="https://docs.npmjs.com/images/npm.svg" width="250"></p>
<h1 id="npm-åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§"><a href="#npm-åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§" class="headerlink" title="npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§"></a>npm åŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§</h1><!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:0 orderedList:0 -->
<ul>
<li><a href="#åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</a><ul>
<li><a href="#å®‰è£…ä¸å‡çº§">å®‰è£…ä¸å‡çº§</a><ul>
<li><a href="#å®‰è£…">å®‰è£…</a></li>
<li><a href="#å‡çº§">å‡çº§</a></li>
<li><a href="#å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„-npm">å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm</a></li>
</ul>
</li>
<li><a href="#å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</a><ul>
<li><a href="#npm-install">npm install</a></li>
<li><a href="#npm-uninstall">npm uninstall</a></li>
<li><a href="#npm-update">npm update</a></li>
<li><a href="#npm-ls">npm ls</a></li>
<li><a href="#npm-adduser">npm adduser</a></li>
<li><a href="#npm-init">npm init</a></li>
<li><a href="#npm-publish">npm publish</a></li>
<li><a href="#npm-unpublish">npm unpublish</a></li>
<li><a href="#npm-deprecate">npm deprecate</a></li>
<li><a href="#npm-dist-tag">npm dist-tag</a></li>
<li><a href="#npm-view">npm view</a></li>
<li><a href="#npm-link">npm link</a></li>
<li><a href="#npm-conifg">npm conifg</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#å·¥ä½œåŸç†">å·¥ä½œåŸç†</a></li>
<li><a href="#å®ç”¨æŠ€å·§">å®ç”¨æŠ€å·§</a><ul>
<li><a href="#pacakgejson">pacakge.json</a><ul>
<li><a href="#dependencies">dependencies</a></li>
<li><a href="#optionaldependencies">optionalDependencies</a></li>
<li><a href="#peerdependencies">peerDependencies</a></li>
<li><a href="#bundleddependencies">bundledDependencies</a></li>
<li><a href="#bin">bin</a></li>
<li><a href="#config">config</a></li>
</ul>
</li>
<li><a href="#npmrc">.npmrc</a></li>
<li><a href="#npmignore">.npmignore</a></li>
<li><a href="#scripts">scripts</a></li>
<li><a href="#shrinkwrap">shrinkwrap</a></li>
<li><a href="#cache">cache</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><h3 id="å®‰è£…ä¸å‡çº§"><a href="#å®‰è£…ä¸å‡çº§" class="headerlink" title="å®‰è£…ä¸å‡çº§"></a>å®‰è£…ä¸å‡çº§</h3><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>å®‰è£… Node.js æ—¶ä¼šè‡ªåŠ¨å®‰è£… npmã€‚</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nvm <span class="keyword">install</span> <span class="number">4</span></div></pre></td></tr></table></figure>
<h4 id="å‡çº§"><a href="#å‡çº§" class="headerlink" title="å‡çº§"></a>å‡çº§</h4><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> install <span class="built_in">npm</span> -g</div></pre></td></tr></table></figure>
<h4 id="å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„-npm"><a href="#å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„-npm" class="headerlink" title="å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm"></a>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ npm</h4><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> install <span class="built_in">npm</span>@<span class="number">2</span> -g</div></pre></td></tr></table></figure>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><h4 id="npm-install"><a href="#npm-install" class="headerlink" title="npm install"></a>npm install</h4><ol>
<li><p>æ ¹æ® <code>package.json</code> æ–‡ä»¶å®‰è£…ä¾èµ–ã€‚</p>
 <figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span></div></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…æŒ‡å®šçš„ä¾èµ–åŒ…ã€‚</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install [<span class="tag">&lt;<span class="name">@scope</span>&gt;</span>/]<span class="tag">&lt;<span class="name">pkg</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœå½“å‰ç›®å½•ä¸­å­˜åœ¨ <code>package.json</code> æ–‡ä»¶ï¼Œåˆ™å®‰è£…æ»¡è¶³æ–‡ä»¶ä¸­ç‰ˆæœ¬è§„åˆ™çš„æœ€é«˜ç‰ˆæœ¬ï¼›å¦åˆ™å®‰è£…æœ€æ–°ç‰ˆæœ¬ä¾èµ–åŒ…ã€‚</p>
</blockquote>
</li>
<li><p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ä¾èµ–åŒ…ã€‚</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm install [<span class="tag">&lt;<span class="name">@scope</span>&gt;</span>/]<span class="tag">&lt;<span class="name">pkg</span>&gt;</span>@<span class="tag">&lt;<span class="name">tag</span>&gt;</span></div><div class="line">npm install [<span class="tag">&lt;<span class="name">@scope</span>&gt;</span>/]<span class="tag">&lt;<span class="name">pkg</span>&gt;</span>@<span class="tag">&lt;<span class="name">version</span>&gt;</span></div><div class="line">npm install [<span class="tag">&lt;<span class="name">@scope</span>&gt;</span>/]<span class="tag">&lt;<span class="name">pkg</span>&gt;</span>@<span class="tag">&lt;<span class="name">version</span> <span class="attr">range</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>ä»æœ¬åœ°ä½ç½®å®‰è£…ä¾èµ–ã€‚</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> &lt;folder&gt;</div><div class="line">npm <span class="keyword">install</span> &lt;tarball <span class="keyword">file</span>&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>å¯ä»¥ç”¨ <code>npm pack</code> ç”Ÿæˆ <code>&lt;tarball file&gt;</code></p>
</blockquote>
</li>
<li><p>ä»ç½‘ç»œä½ç½®å®‰è£…ä¾èµ–ã€‚</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> &lt;tarball <span class="keyword">url</span>&gt;</div><div class="line">npm <span class="keyword">install</span> &lt;git:// <span class="keyword">url</span>&gt;</div><div class="line">npm <span class="keyword">install</span> &lt;github username&gt;/&lt;github <span class="keyword">project</span>&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><p><code>-g, --global</code>ï¼šå®‰è£…å…¨å±€ä¾èµ–ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¾èµ–åŒ…åï¼Œåˆ™å°†å½“å‰ç›®å½•ä¸­çš„åŒ…å®‰è£…è‡³å…¨å±€</p>
</li>
<li><p><code>-S, --save</code>ï¼šå®‰è£…ä¾èµ–çš„åŒæ—¶å°†è¯¥ä¾èµ–å†™å…¥ <code>dependencies</code></p>
</li>
<li><code>-D, --save-dev</code>ï¼šå®‰è£…ä¾èµ–çš„åŒæ—¶å°†è¯¥ä¾èµ–å†™å…¥ <code>devDependencies</code></li>
<li><code>-O, --save-optional</code>ï¼šå®‰è£…ä¾èµ–çš„åŒæ—¶å°†è¯¥ä¾èµ–å†™å…¥ <code>optionalDependencies</code></li>
<li><p><code>-E, --save-exact</code>ï¼šå†™å…¥ <code>package.json</code> æ—¶å¸¦æœ‰ç¡®åˆ‡ç‰ˆæœ¬å·</p>
</li>
<li><p><code>--no-optional</code>ï¼šä¸å®‰è£… optional dependenciesï¼Œå¯ç»§æ‰¿</p>
</li>
<li><code>--only={dev[elopment]|prod[uction]}</code>ï¼šæ— è§† <code>NODE_ENV</code>ï¼Œåªå®‰è£… <code>devDependencies</code> æˆ–ä»…å®‰è£…é™¤äº† <code>devDependencies</code> ä¹‹å¤–çš„ä¾èµ–é¡¹</li>
<li><code>--dry-run</code>ï¼šèµ°ä¸€éå®‰è£…çš„è¿‡ç¨‹å¹¶æŠ¥å‘Šç»“æœï¼Œä½†å®é™…ä¸Šæ²¡æœ‰å®‰è£…ä»»ä½•ä¾èµ–</li>
</ul>
</li>
<li><p>åˆ«åï¼š<code>i</code></p>
</li>
</ol>
<h4 id="npm-uninstall"><a href="#npm-uninstall" class="headerlink" title="npm uninstall"></a>npm uninstall</h4><ol>
<li><p>åˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„ä¾èµ–åŒ…ï¼Œå¹¶ä¸”å®Œå…¨ç§»é™¤ä¸ºäº†è¯¥åŒ…è€Œå®‰è£…çš„ä»»ä½•æ–‡ä»¶</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm uninstall <span class="meta">[&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span>... [-S|--save|-D|--save-dev|-O|--save-optional]</div></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼šä¸ <code>npm install</code> ç±»ä¼¼</p>
</li>
<li><p>åˆ«åï¼š<code>remove</code>ã€<code>rm</code>ã€<code>r</code>ã€<code>un</code>ã€<code>unlink</code></p>
</li>
</ol>
<h4 id="npm-update"><a href="#npm-update" class="headerlink" title="npm update"></a>npm update</h4><ol>
<li><p>å‡çº§æ‰€æœ‰ä¾èµ–åŒ…è‡³ç‰ˆæœ¬è§„åˆ™å…è®¸çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶å®‰è£…ç¼ºå¤±çš„ä¾èµ–åŒ…</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">update</span> [<span class="symbol">&lt;pkg&gt;</span>...]</div></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>-g</code>ï¼šå‡çº§å…¨å±€ä¾èµ–åŒ…</li>
<li><code>--dev</code>ï¼šåŒæ—¶å‡çº§åœ¨ <code>devDependencies</code> ä¸­çš„ä¾èµ–åŒ…</li>
<li><code>--depth Infinity</code>ï¼šä» <code>npm@2.6.1</code> èµ· <code>npm update</code> é»˜è®¤ä»…å‡çº§é¡¶å±‚ä¾èµ–ï¼Œä½¿ç”¨è¯¥å‚æ•°å‡çº§æ‰€æœ‰ä¾èµ–åŒ…</li>
<li><code>--save</code>ï¼šå‡çº§ä¾èµ–åŒ…ï¼ŒåŒæ—¶è®°å½•å‡çº§åçš„ç‰ˆæœ¬</li>
</ul>
</li>
<li><p>åˆ«åï¼š<code>up</code>ã€<code>upgrade</code></p>
</li>
</ol>
<h4 id="npm-ls"><a href="#npm-ls" class="headerlink" title="npm ls"></a>npm ls</h4><ol>
<li><p>ä»¥æ ‘å½¢ç»“æ„æ‰“å°ä¾èµ–åŒ…åŠå…¶ç‰ˆæœ¬</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm ls [[<span class="tag">&lt;<span class="name">@scope</span>&gt;</span>/]<span class="tag">&lt;<span class="name">pkg</span>&gt;</span> ...]</div></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>--json</code>ï¼šä»¥ JSON æ ¼å¼è¾“å‡º</li>
<li><code>--long</code>ï¼šè¾“å‡ºé¢å¤–ä¿¡æ¯</li>
<li><code>--global</code>ï¼šè¾“å‡ºå…¨å±€ä¾èµ–ä¿¡æ¯</li>
<li><code>--depth &lt;int&gt;</code>ï¼šè¾“å‡ºä¾èµ–æ ‘çš„æœ€å¤§æ·±åº¦</li>
<li><code>--prod[uction]</code>ï¼šä»…è¾“å‡º <code>dependencies</code> ä¸­çš„ä¾èµ–</li>
<li><code>--dev</code>ï¼šä»…è¾“å‡º <code>devDependencies</code> ä¸­çš„ä¾èµ–</li>
</ul>
</li>
<li><p>åˆ«åï¼š<code>list</code>ã€<code>la</code>ã€<code>ll</code></p>
</li>
</ol>
<h4 id="npm-adduser"><a href="#npm-adduser" class="headerlink" title="npm adduser"></a>npm adduser</h4><p>ç™»å½• npm</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> adduser</div></pre></td></tr></table></figure>
<h4 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h4><ol>
<li><p>æé—®ï¼Œç„¶åäº§ç”Ÿä¸€ä¸ª <code>package.json</code> æ–‡ä»¶</p>
 <figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init [-f|<span class="type">--force</span>|<span class="type">-y</span>|<span class="type">--yes</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>-f, --force, -y, --yes</code>ï¼šä½¿ç”¨é»˜è®¤çš„ç­”æ¡ˆï¼Œä¸å†æé—®</li>
<li><code>--scope &lt;scope&gt;</code>ï¼šæŒ‡å®šæ–°æ¨¡å—çš„ scopeï¼Œä¾‹å¦‚ <code>mtfe</code></li>
</ul>
</li>
</ol>
<h4 id="npm-publish"><a href="#npm-publish" class="headerlink" title="npm publish"></a>npm publish</h4><ol>
<li><p>å‘å¸ƒä¸€ä¸ªæ–°çš„åŒ…ï¼Œæˆ–ä¸€ä¸ªåŒ…çš„æ–°ç‰ˆæœ¬  </p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm publish <span class="meta">[&lt;tarball&gt;|&lt;folder&gt;]</span> [--tag &lt;tag&gt;] [--access &lt;<span class="keyword">public</span>|restricted&gt;]</div></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœæ²¡æœ‰ tarball æˆ– folder è¢«æŒ‡å®šï¼Œåˆ™ä½¿ç”¨å½“å‰ç›®å½•</p>
</blockquote>
</li>
<li><p>å¸¸ç”¨å‚æ•°ï¼š</p>
<ul>
<li><code>--tag &lt;tag&gt;</code>ï¼šç»™è¢«å‘å¸ƒçš„åŒ…æ³¨å†ŒæŒ‡å®šçš„ tagï¼Œå¦‚æœæ²¡æœ‰è¯¥å‚æ•°ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ <code>latest</code></li>
</ul>
</li>
</ol>
<h4 id="npm-unpublish"><a href="#npm-unpublish" class="headerlink" title="npm unpublish"></a>npm unpublish</h4><p>å–æ¶ˆå‘å¸ƒä¸€ä¸ªåŒ…ï¼Œæˆ–ä¸€ä¸ªåŒ…çš„æŸäº›ç‰ˆæœ¬ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼Œå»ºè®®ä½¿ç”¨deprecateï¼‰<br><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm unpublish <span class="meta">[&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span></div></pre></td></tr></table></figure></p>
<h4 id="npm-deprecate"><a href="#npm-deprecate" class="headerlink" title="npm deprecate"></a>npm deprecate</h4><p>å¼ƒç”¨ä¸€ä¸ªåŒ…ï¼Œæˆ–ä¸€ä¸ªåŒ…çš„æŸäº›ç‰ˆæœ¬ï¼Œå°è¯•å®‰è£…è¿™äº›å¼ƒç”¨åŒ…çš„ç”¨æˆ·å°†ä¼šæ”¶åˆ°è­¦å‘Š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm deprecate <span class="tag">&lt;<span class="name">pkg</span>&gt;</span>[@<span class="tag">&lt;<span class="name">version</span>&gt;</span>] <span class="tag">&lt;<span class="name">message(ä½ å¯ä»¥è‡ªå®šä¹‰çš„ä¸€äº›è­¦å‘Šä¿¡æ¯)</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="npm-dist-tag"><a href="#npm-dist-tag" class="headerlink" title="npm dist-tag"></a>npm dist-tag</h4><ol>
<li><p>ç»™ä¸€ä¸ªåŒ…çš„æŸä¸ªç‰ˆæœ¬æ³¨å†Œï¼ˆæ·»åŠ ï¼‰ tag</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm dist-tag add &lt;pkg&gt;@&lt;version&gt; <span class="meta">[&lt;tag&gt;]</span></div></pre></td></tr></table></figure>
</li>
<li><p>ç§»é™¤ä¸€ä¸ª tag</p>
 <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm dist-<span class="keyword">tag</span> <span class="title">rm</span> <span class="tag">&lt;pkg&gt;</span> <span class="tag">&lt;tag&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>æ˜¾ç¤ºæŒ‡å®šåŒ…çš„æ‰€æœ‰ tag</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm dist-tag ls <span class="meta">[&lt;pkg&gt;]</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="npm-view"><a href="#npm-view" class="headerlink" title="npm view"></a>npm view</h4><ol>
<li><p>æ˜¾ç¤ºä¸€ä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼ˆnpmçš„ éæœ¬åœ°çš„ï¼‰</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm view <span class="meta">[&lt;@scope&gt;/]&lt;name&gt;[@&lt;version&gt;]</span> <span class="meta">[&lt;field&gt;[.&lt;subfield&gt;]</span>...]</div></pre></td></tr></table></figure>
<blockquote>
<p><code>&lt;field&gt;</code> å’Œ <code>&lt;subfield&gt;</code> è¡¨ç¤ºè¾“å‡ºä¿¡æ¯ä¸­çš„å­—æ®µ</p>
</blockquote>
</li>
<li><p>åˆ«åï¼š<code>info</code>ã€<code>show</code>ã€<code>v</code></p>
</li>
</ol>
<h4 id="npm-link"><a href="#npm-link" class="headerlink" title="npm link"></a>npm link</h4><p>å°†ä¸€ä¸ªæœ¬åœ°ç›®å½•ä¸­çš„æ¨¡å—ç¬¦å·é“¾æ¥è‡³ä¸€ä¸ªé¡¹ç›®çš„ä¾èµ–ä¸­ï¼Œå®ç°ä¸Šè¿°åŠŸèƒ½éœ€è¦ä¸¤æ­¥ï¼š</p>
<ol>
<li><p>åœ¨æ¨¡å—ç›®å½•ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªä»å…¨å±€ä¾èµ–æŒ‡å‘å½“å‰ç›®å½•çš„ç¬¦å·é“¾æ¥</p>
 <figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> link</div></pre></td></tr></table></figure>
 <figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/usr/local/Cellar/nvm/<span class="number">0.25</span>.<span class="number">4</span>/versions/node/v4.<span class="number">4.4</span>/<span class="class"><span class="keyword">lib</span>/<span class="title">node_modules</span>/<span class="title">handgrip</span></span></div><div class="line">-&gt; <span class="regexp">/Users/</span>Dylan/handgrip</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨å…¶ä»–ç›®å½•ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªä»å±€éƒ¨ä¾èµ–æŒ‡å‘å…¨å±€ä¾èµ–çš„ç¬¦å·é“¾æ¥</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm link <span class="meta">[&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span></div></pre></td></tr></table></figure>
<blockquote>
<p><code>[&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</code> æ‰€è¡¨ç¤ºå·²ç»æ‰§è¡Œäº†ç¬¬ä¸€æ­¥çš„æ¨¡å—ï¼Œæˆ–å…¶æ‰€åŒ…å«çš„ç‰ˆæœ¬</p>
</blockquote>
 <figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># npm link handgrip</span></div><div class="line">/Users/Dylan/koalition-boilerplate/node_modules/handgrip</div><div class="line">-&gt; <span class="regexp">/usr/local</span><span class="regexp">/Cellar/nvm</span><span class="regexp">/0.25.4/versions</span><span class="regexp">/node/v</span>4.<span class="number">4.4</span>/<span class="class"><span class="keyword">lib</span>/<span class="title">node_modules</span>/<span class="title">handgrip</span></span></div><div class="line">-&gt; <span class="regexp">/Users/</span>Dylan/handgrip</div></pre></td></tr></table></figure>
</li>
</ol>
<p>ç”±äºä¾èµ–é€šè¿‡ç¬¦å·é“¾æ¥çš„æ–¹å¼ç»„ç»‡ï¼Œåœ¨æ¨¡å—ç›®å½•ä¸­çš„ä¿®æ”¹å¯ä»¥ç«‹å³åœ¨å…¶ä»–ç›®å½•ä¸­ç”Ÿæ•ˆã€‚  </p>
<h4 id="npm-conifg"><a href="#npm-conifg" class="headerlink" title="npm conifg"></a>npm conifg</h4><ol>
<li><p>è®¾ç½®ä¸€ä¸ªé…ç½®é¡¹</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">    npm config <span class="keyword">set</span> &lt;<span class="keyword">key</span>&gt; &lt;<span class="keyword">value</span>&gt; [-g|<span class="comment">--global]</span></div><div class="line">    npm <span class="keyword">set</span> &lt;<span class="keyword">key</span>&gt; &lt;<span class="keyword">value</span>&gt; [-g|<span class="comment">--global]</span></div><div class="line">    <span class="string">``</span><span class="string">`  </span></div><div class="line"></div><div class="line">    å¦‚æœé…ç½®é¡¹çš„å€¼é˜™å¦‚ï¼Œå°†é‡‡ç”¨é»˜è®¤å€¼ `<span class="literal">true</span><span class="string">`ã€‚</span></div><div class="line"></div><div class="line">2. è¯»å–ä¸€ä¸ªé…ç½®é¡¹</div></pre></td></tr></table></figure>
<p> npm config get <key><br> npm get <key></key></key></p>
 <figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="bullet">3. </span>åˆ é™¤ä¸€ä¸ªé…ç½®é¡¹</div></pre></td></tr></table></figure>
<p> npm config delete key</p>
 <figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="bullet">4. </span>åˆ—å‡ºæ‰€æœ‰çš„é…ç½®</div></pre></td></tr></table></figure>
<p> npm config list</p>
 <figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="bullet">5. </span>åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€é…ç½®æ–‡ä»¶</div></pre></td></tr></table></figure>
<p> npm config edit</p>
 <figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="code">    ä½¿ç”¨ `--global` æ¥æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ã€‚</span></div><div class="line"></div><div class="line"><span class="section">## å·¥ä½œåŸç†</span></div><div class="line"></div><div class="line"><span class="quote">&gt; ä¸‹é¢çš„å†…å®¹åŸºæœ¬ä¸Šç¿»è¯‘äº† [npm v3 Dependency Resolution](https://docs.npmjs.com/how-npm-works/npm3)ã€[npm3 Duplication and Deduplication](https://docs.npmjs.com/how-npm-works/npm3-dupe)ã€[npm3 Non-determinism](https://docs.npmjs.com/how-npm-works/npm3-nondet) è¿™ä¸‰ç¯‡æ–‡ç« </span></div><div class="line"></div><div class="line">npm v3 ä¾èµ–è§£æçš„ä¸»è¦æ€æƒ³ï¼šå°½å¯èƒ½åœ°å‡å°‘é—´æ¥ä¾èµ–å®‰è£…ç›®å½•çš„æ·±åº¦ï¼Œæœ€ç†æƒ³çš„æƒ…å†µæ˜¯ä¸ç›´æ¥ä¾èµ–å®‰è£…åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥å‡å°‘ä¾èµ–ç›®å½•çš„åµŒå¥—ï¼Œç¼“è§£æ•´ä¸ªä¾èµ–ç›®å½•å±‚æ¬¡è¿‡æ·±çš„é—®é¢˜ã€‚ï¼ˆå› ä¸º Windows ä¸­æ–‡ä»¶è·¯å¾„çš„é•¿åº¦ä¸èƒ½å¤§äº 260 ä¸ªå­—ç¬¦ã€‚ï¼‰</div><div class="line"></div><div class="line">ğŸŒ°ï¼š</div><div class="line"></div><div class="line">å‡å¦‚æˆ‘ä»¬æœ‰æ¨¡å— Aï¼Œæ¨¡å— A ä¾èµ–äº†æ¨¡å— Bã€‚</div><div class="line"></div><div class="line">![<span class="string">æ¨¡å— A ä¾èµ–æ¨¡å— B</span>](<span class="link">https://docs.npmjs.com/images/npm3deps1.png</span>)</div><div class="line"></div><div class="line">ç„¶åæˆ‘ä»¬åˆ›å»ºäº†å·²ä¾èµ–æ¨¡å— A çš„åº”ç”¨ Appã€‚</div><div class="line"></div><div class="line">åœ¨æ‰§è¡Œ <span class="code">`npm install`</span> çš„æ—¶å€™ï¼Œnpm v3 ä¼šæŠŠæ¨¡å— A åŠå…¶ä¾èµ–æ¨¡å— B éƒ½å®‰è£…åœ¨ <span class="code">`/node_modules`</span> ç›®å½•ä¸­ã€‚ï¼ˆnpm v2 åˆ™ä¼šæŠŠæ¨¡å— B ä¼šåµŒå¥—åœ¨æ¨¡å— A ä¸­ã€‚ï¼‰</div><div class="line"></div><div class="line">![<span class="string">npm2 vs 3</span>](<span class="link">https://docs.npmjs.com/images/npm3deps2.png</span>)</div><div class="line"></div><div class="line">æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ App åˆéœ€è¦ä¾èµ–æ¨¡å— Cï¼Œè€Œæ¨¡å— C ä¾èµ–äº†å¦ä¸€ä¸ªç‰ˆæœ¬çš„æ¨¡å— Bã€‚</div><div class="line"></div><div class="line">![<span class="string">æ–°ä¾èµ–æ¨¡å— C</span>](<span class="link">https://docs.npmjs.com/images/npm3deps3.png</span>)</div><div class="line"></div><div class="line">ç„¶è€Œï¼Œç”±äºæ¨¡å— B v1.0 å·²ç»è¢«å®‰è£…åœ¨äº†é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ¨¡å— B v2.0 å°±æ— æ³•å®‰è£…åˆ°åŒä¸€ä½ç½®äº†ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œnpm v3 å°†ä¼šé»˜è®¤é‡‡ç”¨ npm v2 çš„è¡Œä¸ºï¼Œå°†è¿™ä¸ªæ–°çš„æ¨¡å— B åµŒå¥—åœ¨ä¾èµ–å®ƒçš„æ¨¡å—ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠæ¨¡å— B v2.0 å®‰è£…åˆ°æ¨¡å— C ä¸­ã€‚</div><div class="line"></div><div class="line">![<span class="string">ä¾èµ–åµŒå¥—</span>](<span class="link">https://docs.npmjs.com/images/npm3deps4.png</span>)</div><div class="line"></div><div class="line">åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</div><div class="line"></div><div class="line">![<span class="string">ä¾èµ–æ ‘ä¸ç›®å½•æ ‘</span>](<span class="link">https://docs.npmjs.com/images/tree.png</span>)</div><div class="line"></div><div class="line"><span class="emphasis">***</span></div><div class="line"></div><div class="line"><span class="emphasis">*å¦‚æœå†å®‰è£…ä¸€ä¸ªä¾èµ–æ¨¡å— B v1.0 æˆ– v2.0 ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ*</span></div><div class="line"></div><div class="line">æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ App åˆéœ€è¦ä¾èµ–æ¨¡å— Dï¼Œè€Œæ¨¡å— D ä¸æ¨¡å— C ä¸€æ ·ï¼Œä¾èµ–äº†æ¨¡å— B v2.0ã€‚</div><div class="line"></div><div class="line">![<span class="string">æ–°ä¾èµ–æ¨¡å— D</span>](<span class="link">https://docs.npmjs.com/images/npm3deps5.png</span>)</div><div class="line"></div><div class="line">ç”±äºæ¨¡å— B v1.0 å·²ç»è¢«å®‰è£…åœ¨äº†é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ¨¡å— B v2.0 å°±æ— æ³•å®‰è£…åˆ°åŒä¸€ä½ç½®äº†ã€‚å› æ­¤ï¼Œå°½ç®¡æ¨¡å— C ä¸­å·²ç»æœ‰äº†ä¸€ä»½æ‹·è´ï¼Œæ¨¡å— B v2.0 è¿˜æ˜¯è¢«å®‰è£…åˆ°äº†æ¨¡å— D ä¸­ï¼ˆå¦åˆ™å°± requrie ä¸åˆ°äº†ï¼‰ã€‚</div><div class="line"></div><div class="line">![<span class="string">æœªå»é‡</span>](<span class="link">https://docs.npmjs.com/images/npm3deps6.png</span>)</div><div class="line"></div><div class="line">å¦‚æœä¸€ä¸ªé—´æ¥ä¾èµ–è¢«ä¸¤ä¸ªä»¥ä¸Šçš„åŒ…æ‰€ä¾èµ–ï¼Œä¸”ä¸èƒ½å®‰è£…åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªé—´æ¥ä¾èµ–ä¼šè¢«å¤åˆ¶ä¸€ä»½ï¼Œå¹¶åµŒå¥—åœ¨ç›´æ¥ä¾èµ–çš„ç›®å½•ä¸­ã€‚</div><div class="line"></div><div class="line">ç›¸ååœ°ï¼Œå¦‚æœä¸€ä¸ªé—´æ¥ä¾èµ–è¢«ä¸¤ä¸ªä»¥ä¸Šçš„åŒ…æ‰€ä¾èµ–ï¼Œä¸”è¢«å®‰è£…åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªä¾èµ–å°±ä¸ä¼šè¢«å¤åˆ¶ï¼Œè€Œè¢«ä¾èµ–å®ƒçš„åŒ…æ‰€å…±äº«ã€‚</div><div class="line"></div><div class="line">ğŸŒ°ï¼Œæˆ‘ä»¬åˆåŠ äº†ä¸€ä¸ªä¾èµ–æ¨¡å— Eï¼Œæ¨¡å— E ä¸æ¨¡å— A ä¸€æ ·ï¼Œä¾èµ–äº†æ¨¡å— B v1.0ã€‚</div><div class="line"></div><div class="line">![<span class="string">æ–°ä¾èµ–æ¨¡å— E</span>](<span class="link">https://docs.npmjs.com/images/npm3deps7.png</span>)</div><div class="line"></div><div class="line">ç”±äºæ¨¡å— B v1.0 å·²ç»å®‰è£…å†æ¥é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤åˆ¶å¹¶åµŒå¥—è¯¥æ¨¡å—ï¼Œç›´æ¥å®‰è£…æ¨¡å— Eï¼Œç„¶åæ¨¡å— E å°±å¯ä»¥ä¸æ¨¡å— A å…±äº«æ¨¡å— B v1.0 äº†ã€‚</div><div class="line"></div><div class="line">![](https://docs.npmjs.com/images/npm3deps8.png)</div><div class="line"></div><div class="line">åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</div><div class="line"></div><div class="line">![<span class="string">ä¾èµ–æ ‘ä¸ç›®å½•æ ‘</span>](<span class="link">https://docs.npmjs.com/images/tree2.png</span>)</div><div class="line"></div><div class="line"><span class="emphasis">***</span></div><div class="line"></div><div class="line"><span class="emphasis">*å¦‚æœæˆ‘ä»¬æŠŠæ¨¡å— A å‡çº§è‡³ v2.0ï¼Œæ¨¡å— A v2.0 ä¸å†ä¾èµ–æ¨¡å— B v1.0ï¼Œè€Œæ˜¯ä¾èµ–æ¨¡å— B v2.0ï¼Œè¿™ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ*</span></div><div class="line"></div><div class="line">æ‰§è¡Œ <span class="code">`npm install mod-a@2`</span>ï¼Œnpm v3 å°†åšä»¥ä¸‹äº‹æƒ…ï¼š</div><div class="line"></div><div class="line"><span class="bullet">1. </span>ç§»é™¤æ¨¡å— A v1.0</div><div class="line"><span class="bullet">2. </span>å®‰è£…æ¨¡å— A v2.0</div><div class="line"><span class="bullet">3. </span>ä¿ç•™æ¨¡å— B v1.0ï¼Œå› ä¸ºæ¨¡å— E ä»æ—§ä¾èµ–å®ƒ</div><div class="line"><span class="bullet">4. </span>ç”±äºæ¨¡å— B v1.0 è¿˜åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­ï¼Œæ¨¡å— B v2.0 è¢«åµŒå¥—å®‰è£…åœ¨æ¨¡å— A v2.0 ä¸­</div><div class="line"></div><div class="line">![](https://docs.npmjs.com/images/npm3deps10.png)</div><div class="line"></div><div class="line">åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</div><div class="line"></div><div class="line">![<span class="string">ä¾èµ–æ ‘ä¸ç›®å½•æ ‘</span>](<span class="link">https://docs.npmjs.com/images/tree3.png</span>)</div><div class="line"></div><div class="line">æœ€åï¼Œæˆ‘ä»¬å§æ¨¡å— E å‡çº§è‡³ v2.0ï¼Œæ¨¡å— E v2.0 åŒæ ·ä¸å†ä¾èµ–æ¨¡å— B v1.0ï¼Œè€Œæ˜¯ä¾èµ–æ¨¡å— B v2.0ã€‚</div><div class="line"></div><div class="line">![](https://docs.npmjs.com/images/npm3deps11.png)</div><div class="line"></div><div class="line">npm v3 å°†åšä»¥ä¸‹äº‹æƒ…ï¼š</div><div class="line"></div><div class="line"><span class="bullet">1. </span>ç§»é™¤æ¨¡å— E v1.0</div><div class="line"><span class="bullet">2. </span>å®‰è£…æ¨¡å— E v2.0</div><div class="line"><span class="bullet">3. </span>ç”±äºæ²¡æœ‰æ¨¡å—ä¾èµ–æ¨¡å— B v1.0ï¼Œç§»é™¤è¯¥æ¨¡å—</div><div class="line"><span class="bullet">4. </span>ç”±äºé¡¶å±‚ä¾èµ–ç›®å½•ä¸­æ²¡æœ‰æ¨¡å— Bï¼Œåœ¨è¯¥ç›®å½•ä¸­å®‰è£…æ¨¡å— B v2.0</div><div class="line"></div><div class="line">![](https://docs.npmjs.com/images/npm3deps12.png)</div><div class="line"></div><div class="line">åœ¨æ§åˆ¶å°æ‰“å°å‡ºä¾èµ–æ ‘å’Œç›®å½•æ ‘ã€‚</div><div class="line"></div><div class="line">![<span class="string">ä¾èµ–æ ‘ä¸ç›®å½•æ ‘</span>](<span class="link">https://docs.npmjs.com/images/tree4.png</span>)</div><div class="line"></div><div class="line">ç°åœ¨ï¼Œæ¨¡å— B v2.0 å‡ ä¹å‡ºç°åœ¨äº†æ¯ä¸€ä¸ªä¾èµ–ç›®å½•ä¸­ï¼Œè¿™æ˜¾ç„¶ä¸å¤Ÿç®€æ´ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œï¼š</div></pre></td></tr></table></figure>
</li>
</ol>
<p>npm dedupe(å¯ä»¥ç†è§£ä¸ºå»é‡çš„æ„æ€)<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">è¿™æ¡å‘½ä»¤å¯ä»¥ä»…ä¿ç•™é¡¶å±‚ä¾èµ–ç›®å½•ä¸­çš„æ¨¡å— <span class="selector-tag">B</span> <span class="selector-tag">v2</span><span class="selector-class">.0</span>ï¼Œè€Œç§»é™¤å…¶ä»–æ¬¡çº§ç›®å½•ä¸­çš„æ‹·è´ã€‚</div><div class="line"></div><div class="line">åœ¨æ§åˆ¶å°æ‰“å°å‡ºç›®å½•æ ‘ã€‚</div><div class="line"></div><div class="line">!<span class="selector-attr">[ç›®å½•æ ‘]</span>(<span class="attribute">https</span>:<span class="comment">//docs.npmjs.com/images/tree5.png)</span></div><div class="line"></div><div class="line">***</div><div class="line"></div><div class="line">æˆ‘ä»¬è®© App å›åˆ°åˆšæ‰çš„ä¸€ä¸ªçŠ¶æ€ï¼š</div><div class="line"></div><div class="line">![](<span class="attribute">https</span>:<span class="comment">//docs.npmjs.com/images/npm3deps8.png)</span></div><div class="line"></div><div class="line">åœ¨è¿™ä¸ªğŸŒ°ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨æœ‰ä»¥ä¸‹ <span class="built_in">`package.json`</span> æ–‡ä»¶ï¼š</div><div class="line"></div><div class="line"><span class="built_in">``</span>`js</div><div class="line">&#123;</div><div class="line">Â Â <span class="string">"name"</span>:Â <span class="string">"example3"</span>,</div><div class="line">Â Â <span class="string">"version"</span>:Â <span class="string">"1.0.0"</span>,</div><div class="line">Â Â <span class="string">"description"</span>:Â <span class="string">""</span>,</div><div class="line">Â Â <span class="string">"main"</span>:Â <span class="string">"index.js"</span>,</div><div class="line">Â Â <span class="string">"scripts"</span>:Â &#123;</div><div class="line">Â Â Â Â <span class="string">"test"</span>:Â <span class="string">"echoÂ \"</span><span class="attribute">Error</span>:Â noÂ testÂ specified\<span class="string">"Â &amp;&amp;Â exitÂ 1"</span></div><div class="line">Â Â &#125;,</div><div class="line">Â Â <span class="string">"keywords"</span>:Â [],</div><div class="line">Â Â <span class="string">"author"</span>:Â <span class="string">""</span>,</div><div class="line">Â Â <span class="string">"license"</span>:Â <span class="string">"ISC"</span>,</div><div class="line">Â Â <span class="string">"dependencies"</span>:Â &#123;</div><div class="line">Â Â Â Â <span class="string">"mod-a"</span>:Â <span class="string">"^1.0.0"</span>,</div><div class="line">Â Â Â Â <span class="string">"mod-c"</span>:Â <span class="string">"^1.0.0"</span>,</div><div class="line">Â Â Â Â <span class="string">"mod-d"</span>:Â <span class="string">"^1.0.0"</span>,</div><div class="line">Â Â Â Â <span class="string">"mod-e"</span>:Â <span class="string">"^1.0.0"</span></div><div class="line">Â Â &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¦‚æœæ­¤æ—¶è¿è¡Œ <code>npm install</code>ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºä»¥ä¸‹ç»“æœï¼š</p>
<p><img src="https://docs.npmjs.com/images/npm3deps14.png" alt=""></p>
<p>ç„¶åï¼Œæˆ‘ä»¬å†æ¬¡æŠŠæ¨¡å— A å‡çº§åˆ° v2.0ï¼Œæ¨¡å— A v2.0 ä¸åœ¨ä¾èµ–æ¨¡å— B v1.0ï¼Œè€Œæ˜¯ä¾èµ–æ¨¡å— B v2.0ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npmÂ installÂ <span class="keyword">mod</span>-<span class="keyword">a</span>@<span class="number">2</span>Â <span class="comment">--save</span></div></pre></td></tr></table></figure>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<p><img src="https://docs.npmjs.com/images/npm3deps15.png" alt=""></p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„ä¾èµ–ç›®å½•çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://docs.npmjs.com/images/npm3deps10.png" alt=""></p>
<p>è€Œä¸”æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ <code>package.json</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">Â Â <span class="string">"name"</span>:Â <span class="string">"example3"</span>,</div><div class="line">Â Â <span class="string">"version"</span>:Â <span class="string">"1.0.0"</span>,</div><div class="line">Â Â <span class="string">"description"</span>:Â <span class="string">""</span>,</div><div class="line">Â Â <span class="string">"main"</span>:Â <span class="string">"index.js"</span>,</div><div class="line">Â Â <span class="string">"scripts"</span>:Â &#123;</div><div class="line">Â Â Â Â <span class="string">"test"</span>:Â <span class="string">"echoÂ \"Error:Â noÂ testÂ specified\"Â &amp;&amp;Â exitÂ 1"</span></div><div class="line">Â Â &#125;,</div><div class="line">Â Â <span class="string">"keywords"</span>:Â [],</div><div class="line">Â Â <span class="string">"author"</span>:Â <span class="string">""</span>,</div><div class="line">Â Â <span class="string">"license"</span>:Â <span class="string">"ISC"</span>,</div><div class="line">Â Â <span class="string">"dependencies"</span>:Â &#123;</div><div class="line">Â Â Â Â <span class="string">"mod-a"</span>:Â <span class="string">"^2.0.0"</span>,</div><div class="line">Â Â Â Â <span class="string">"mod-c"</span>:Â <span class="string">"^1.0.0"</span>,</div><div class="line">Â Â Â Â <span class="string">"mod-d"</span>:Â <span class="string">"^1.0.0"</span>,</div><div class="line">Â Â Â Â <span class="string">"mod-e"</span>:Â <span class="string">"^1.0.0"</span></div><div class="line">Â Â &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ¥ç€ï¼Œæˆ‘ä»¬è¿è¡Œï¼š</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span>ï¼ˆæ•´ä½“é‡æ–°è£…ï¼‰</div></pre></td></tr></table></figure>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<p><img src="https://docs.npmjs.com/images/npm3deps16.png" alt=""></p>
<p>ä¾èµ–ç›®å½•å˜æˆäº†ï¼š</p>
<p><img src="https://docs.npmjs.com/images/npm3deps17.png" alt=""></p>
<hr>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ol>
<li><p>ä¾èµ–ç›®å½•çš„ç»“æ„å–å†³äºä¾èµ–å®‰è£…çš„é¡ºåº</p>
<p> <img src="https://docs.npmjs.com/images/install-order.png" alt=""></p>
</li>
<li><p><code>npm install</code> ï¼ˆä¸å¸¦å‚æ•°ï¼‰å®‰è£…å‡ºçš„ä¾èµ–ç›®å½•ç»“æ„æ˜¯ç¨³å®šçš„ï¼Œå› ä¸º <code>package.json</code> ä¸­ä¾èµ–çš„æ’åˆ—é¡ºåºæ€»æ˜¯å­—å…¸åº</p>
</li>
<li>npm v3 éœ€è¦å°½å¯èƒ½çš„å‡å°‘é—´æ¥ä¾èµ–å®‰è£…ç›®å½•çš„æ·±åº¦ï¼Œäºæ˜¯ä¸å¾—ä¸ä»æ ‘æ ¹è‡³æ ‘å¶ä¸€çº§ä¸€çº§éå†ä¸‹æ¥ï¼Œå¯»æ‰¾å¯ç”¨çš„æœ€è¿œç¥–å…ˆèŠ‚ç‚¹ï¼Œä¸¥é‡å»¶é•¿äº†ä¾èµ–çš„å®‰è£…æ—¶é—´</li>
</ol>
<h2 id="å®ç”¨æŠ€å·§"><a href="#å®ç”¨æŠ€å·§" class="headerlink" title="å®ç”¨æŠ€å·§"></a>å®ç”¨æŠ€å·§</h2><h3 id="pacakge-json"><a href="#pacakge-json" class="headerlink" title="pacakge.json"></a>pacakge.json</h3><h4 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h4><p>ç‰ˆæœ¬å·çš„å†™æ³•ï¼š</p>
<ul>
<li><code>version</code>: å¿…é¡»åŒ¹é…ç¡®åˆ‡çš„ç‰ˆæœ¬å·</li>
<li><code>&gt;version</code>ã€<code>&gt;=version</code>ã€<code>&lt;version</code>ã€<code>&lt;=version</code></li>
<li><code>~version</code>ï¼šå¦‚æœ minor çº§çš„ç‰ˆæœ¬è¢«ç¡®å®šçš„è¯ï¼Œå…è®¸ patch çº§çš„ç‰ˆæœ¬å˜åŒ–ï¼›å¦åˆ™å…è®¸ minor çº§ç‰ˆæœ¬å˜åŒ–<ul>
<li><code>~1.2.3</code> := <code>&gt;=1.2.3 &lt;1.3.0</code></li>
<li><code>~1.2</code> := <code>&gt;=1.2.0 &lt;1.3.0</code></li>
<li><code>~1</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>
<li><code>~0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>~0</code> := <code>&gt;=0.0.0 &lt;1.0.0</code></li>
<li><code>~1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;1.3.0</code></li>
</ul>
</li>
<li><code>^version</code>ï¼šå…è®¸ç‰ˆæœ¬å·ä¸­ä¸ä¿®æ”¹æœ€å·¦éé›¶ä½åŠå…¶å‰ç¼€çš„æ‰€æœ‰ç‰ˆæœ¬å·æ›´é«˜çš„å˜åŒ–<ul>
<li><code>^1.2.3</code> := <code>&gt;=1.2.3 &lt;2.0.0</code></li>
<li><code>^0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>^0.0.3</code> := <code>&gt;=0.0.3 &lt;0.0.4</code></li>
<li><code>^1.2.3-beta.2</code> := <code>&gt;=1.2.3-beta.2 &lt;2.0.0</code></li>
<li><code>^0.0.3-beta</code> := <code>&gt;=0.0.3-beta &lt;0.0.4</code></li>
<li><code>^1.2.x</code> := <code>&gt;=1.2.0 &lt;2.0.0</code></li>
<li><code>^0.0.x</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>
<li><code>^0.0</code> := <code>&gt;=0.0.0 &lt;0.1.0</code></li>
<li><code>^1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0</code></li>
</ul>
</li>
<li><code>1.2.x</code>ï¼š<code>1.2.0</code>ã€<code>1.2.1</code> ç­‰ï¼Œä¸åŒ…æ‹¬ <code>1.3.0</code></li>
<li><code>*</code> æˆ–ç©ºï¼šä»»ä½•ç‰ˆæœ¬</li>
<li><code>version1 - version2</code>ï¼š<code>&gt;=version1 &lt;=version2</code></li>
<li><code>range1 || range2</code></li>
<li><code>tag</code>ï¼šæŒ‡å®š tag</li>
<li><code>file:...</code>ï¼šæœ¬åœ°è·¯å¾„</li>
<li><code>http://...</code>ã€<code>git...</code>ï¼šç½‘ç»œè·¯å¾„<ul>
<li><code>git://github.com/user/project.git#commit-ish</code></li>
<li><code>git+ssh://user@hostname:project.git#commit-ish</code></li>
<li><code>git+ssh://user@hostname/project.git#commit-ish</code></li>
<li><code>git+http://user@hostname/project/blah.git#commit-ish</code></li>
<li><code>git+https://user@hostname/project/blah.git#commit-ish</code></li>
</ul>
</li>
<li><code>user/repo#commit-ish</code>ï¼šGitHub ä»“åº“</li>
</ul>
<h4 id="optionalDependencies"><a href="#optionalDependencies" class="headerlink" title="optionalDependencies"></a>optionalDependencies</h4><p><code>optionalDependencies</code> ä¸­çš„ä¾èµ–å®‰è£…å¤±è´¥æ—¶ï¼Œnpm ä¸ä¼šåœæ­¢æ•´ä¸ªå®‰è£…è¿‡ç¨‹ã€‚</p>
<p>æ¨¡å—æœ¬èº«åº”å½“å¤„ç†ç”±äºä¾èµ–å®‰è£…å¤±è´¥å¯¼è‡´ä¾èµ–ç¼ºå¤±çš„é—®é¢˜ï¼ŒğŸŒ°å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">  <span class="keyword">var</span> foo = <span class="built_in">require</span>(<span class="string">'foo'</span>)</div><div class="line">  <span class="keyword">var</span> fooVersion = <span class="built_in">require</span>(<span class="string">'foo/package.json'</span>).version</div><div class="line">&#125; <span class="keyword">catch</span> (er) &#123;</div><div class="line">  foo = <span class="literal">null</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> ( notGoodFooVersion(fooVersion) ) &#123;</div><div class="line">  foo = <span class="literal">null</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// .. then later in your program ..</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> (foo) &#123;</div><div class="line">  foo.doFooThings()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="peerDependencies"><a href="#peerDependencies" class="headerlink" title="peerDependencies"></a>peerDependencies</h4><p><code>peerDependencies</code> è¡¨ç¤ºå½“å‰æ¨¡å—<strong>é€‚é…</strong>å…¶ä»–æŸäº›æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯åªæœ‰å½“é‚£äº›æŒ‡å®šçš„æ¨¡å—è¢«å®‰è£…æ—¶ï¼Œå½“å‰æ¨¡å—æ‰ä¼šè¢«å®‰è£…ã€‚</p>
<p>ğŸŒ°å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"tea-latte"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.3.5"</span>,</div><div class="line">  <span class="string">"peerDependencies"</span>: &#123;</div><div class="line">    <span class="string">"tea"</span>: <span class="string">"2.x"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¡¨ç¤ºç¡®ä¿æ¨¡å— tea-latte åªèƒ½åŒæ¨¡å— tea 2.x ä¸€èµ·å®‰è£…ã€‚</p>
<blockquote>
<p>å¦‚æœ <code>peerDependencies</code> ä¸­çš„æ¨¡å—æ²¡æœ‰è¢«æ˜ç¡®ä¾èµ–çš„è¯ï¼Œnpm v2 ä¼šè‡ªåŠ¨å®‰è£…è¿™äº›æ¨¡å—ï¼Œä½† npm v3 ä¸ä¼šå†å®‰è£…è¿™äº›æ¨¡å—ï¼Œè€Œæ˜¯è¾“å‡ºä¸€ä¸ªè­¦å‘Šã€‚</p>
</blockquote>
<h4 id="bundledDependencies"><a href="#bundledDependencies" class="headerlink" title="bundledDependencies"></a>bundledDependencies</h4><p><code>bundledDependencies</code> è¡¨ç¤ºåœ¨å½“å‰æ¨¡å—æ‰“åŒ…æˆ–å‘å¸ƒæ—¶ï¼Œéœ€è¦è¢«ç½®äºæ¨¡å—å†…éƒ¨çš„ä¾èµ–ã€‚</p>
<p>ä½¿ç”¨çš„æ—¶æœºï¼š</p>
<ol>
<li>ä½¿ç”¨çš„ä¾èµ–ä¸æ˜¯æ¥è‡ªäº npmï¼Œæˆ–è€…ä¿®æ”¹äº†è¿™ä¸ªä¾èµ–</li>
<li>ä½¿ç”¨å¼€å‘è€…è‡ªå·±çš„é¡¹ç›®ä½œä¸ºä¾èµ–</li>
<li>å¸Œæœ›åœ¨æ¨¡å—ä¸­åŒ…å«ä¸€äº›æ–‡ä»¶</li>
</ol>
<h4 id="bin"><a href="#bin" class="headerlink" title="bin"></a>bin</h4><p>å°†å¯æ‰§è¡Œçš„æ–‡ä»¶å®‰è£…åˆ° PATH ä¸­ã€‚å¯èƒ½å®‰è£…åˆ°çš„ä½ç½®æœ‰ï¼š</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># global:</span></div><div class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/opt/</span>nvm<span class="meta-keyword">/versions/</span>node/v4<span class="number">.4</span><span class="number">.4</span><span class="meta-keyword">/bin/</span></div><div class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/bin/</span></div><div class="line"></div><div class="line"><span class="meta"># local:</span></div><div class="line">./node_modules/.bin/</div></pre></td></tr></table></figure>
<p>ğŸŒ°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">"bin"</span> : &#123; <span class="string">"myapp"</span> : <span class="string">"./cli.js"</span> &#125; &#125;</div></pre></td></tr></table></figure>
<p>å½“å®‰è£…è¿™ä¸ªæ¨¡å—æ—¶ï¼Œnpm ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡å‘ <code>cli.js</code> çš„ç¬¦å·é“¾æ¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">"name"</span>: <span class="string">"my-program"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.2.5"</span>,</div><div class="line">  <span class="string">"bin"</span>: <span class="string">"./path/to/program"</span> &#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„å†™æ³•ç­‰ä»·äºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">"name"</span>: <span class="string">"my-program"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.2.5"</span>,</div><div class="line">  <span class="string">"bin"</span> : &#123; <span class="string">"my-program"</span> : <span class="string">"./path/to/program"</span> &#125; &#125;</div></pre></td></tr></table></figure>
<h4 id="config"><a href="#config" class="headerlink" title="config"></a>config</h4><p><code>package.json</code> æ–‡ä»¶ä¸­çš„ <code>config</code> å­—æ®µå¯ä»¥ç”¨æ¥è®¾ç½®æ¨¡å—è„šæœ¬ä¸­å¯ä»¥ç”¨åˆ°çš„é…ç½®å‚æ•°ã€‚</p>
<p>ğŸŒ°ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—æœ‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">"name"</span> : <span class="string">"foo"</span>,</div><div class="line">  <span class="string">"config"</span> : &#123; <span class="string">"port"</span> : <span class="string">"8080"</span> &#125; &#125;</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆåœ¨æ¨¡å—è„šæœ¬ï¼ˆå¦‚ <code>start</code>ï¼‰ä¸­å°±å¯ä»¥é€šè¿‡ <code>process.env.npm_package_config_port</code>ï¼Œè®¿é—®åˆ°è¿™ä¸ªé…ç½®ã€‚</p>
<p>è¿™ä¸ªé…ç½®ä¹Ÿå¯ä»¥è¢«å‘½ä»¤ <code>npm config set foo:port 8001</code> è¦†ç›–ã€‚</p>
<h3 id="npmrc"><a href="#npmrc" class="headerlink" title=".npmrc"></a>.npmrc</h3><p>é…ç½®æ–‡ä»¶æœ‰ï¼š</p>
<ul>
<li>é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ˆ/path/to/my/project/.npmrcï¼‰</li>
<li>ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼ˆ~/.npmrcï¼‰</li>
<li>å…¨å±€é…ç½®æ–‡ä»¶ï¼ˆ/path/to/node/etc/npmrcï¼‰</li>
<li>å†…ç½®é…ç½®æ–‡ä»¶ï¼ˆ/path/to/npm/npmrcï¼‰</li>
</ul>
<p>ç¯å¢ƒå˜é‡ç”¨æ³•ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">prefix</span> = <span class="variable">$&#123;HOME&#125;</span>/.npm-packages</div></pre></td></tr></table></figure>
<p>æ•°ç»„ç”¨æ³•ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">key[]</span> = <span class="string">"first value"</span></div><div class="line"><span class="attr">key[]</span> = <span class="string">"second value"</span></div></pre></td></tr></table></figure>
<blockquote>
<p>é¡¹ç›®é…ç½®æ–‡ä»¶å’Œç”¨æˆ·é…ç½®æ–‡ä»¶çš„æƒé™å¿…é¡»è®¾ç½®ä¸ºåªèƒ½è¢«å½“å‰ç”¨æˆ·è¯»å†™ï¼ˆ0600ï¼‰ï¼Œå¦åˆ™è¯¥é…ç½®æ–‡ä»¶ä¼šè¢« npm å¿½ç•¥</p>
</blockquote>
<p>å¯ä»¥é€šè¿‡ <code>npm config</code> å‘½ä»¤æ¥ç®¡ç†é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¸¸ç”¨é…ç½®é¡¹ï¼š</p>
<ul>
<li><code>cache</code>ï¼šnpm æœ¬åœ°ç¼“å­˜ç›®å½•ï¼Œé»˜è®¤ <code>~/.npm</code></li>
<li><code>cache-max</code>ï¼šä¿æŒç¼“å­˜é¡¹ç›®ä¸”ä¸å‘ registry æ£€æŸ¥çš„æœ€é•¿æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤ <code>Infinity</code>ï¼Œç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨åˆ é™¤é™¤éæ‰§è¡Œ <code>npm cache clean</code> å‘½ä»¤</li>
<li><code>cache-min</code>ï¼šä¿æŒç¼“å­˜é¡¹ç›®ä¸”ä¸å‘ registry æ£€æŸ¥çš„æœ€çŸ­æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤ <code>10</code>ï¼Œå¯ä»¥ç½®ä¸º <code>999999</code> ç­‰ä»¥å°½é‡å»¶é•¿ç¼“å­˜ç”Ÿæ•ˆæ—¶é—´</li>
<li><code>depth</code>ï¼š<code>npm ls</code> ç­‰å‘½ä»¤ä¸­çš„é»˜è®¤æ·±åº¦ï¼Œé»˜è®¤ <code>Infinity</code></li>
<li><code>editor</code>ï¼šnpm é»˜è®¤ä½¿ç”¨çš„ç¼–è¾‘å™¨</li>
<li><code>engine-strict</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œnpm å°†ä¼šæ‹’ç»å®‰è£…ä¸ç¬¦åˆå½“å‰ Node.js ç‰ˆæœ¬çš„æ¨¡å—</li>
<li><code>force</code>ï¼šå¼ºåŠ›æ‰§è¡Œä¸€äº›å‘½ä»¤<ul>
<li>ç”Ÿå‘½å‘¨æœŸè„šæœ¬æ‰§è¡Œå¤±è´¥ä¸å†é˜»å¡å®‰è£…è¿‡ç¨‹</li>
<li>å‘å¸ƒä¼šè¦†ç›–å·²ç»å‘å¸ƒçš„ç‰ˆæœ¬</li>
<li>è®¿é—® registry æ—¶ä¼šè·³è¿‡ç¼“å­˜</li>
</ul>
</li>
<li><code>global</code>ï¼šå…¨å±€æ¨¡å¼</li>
<li><code>globalconfig</code>ï¼šå…¨å±€é…ç½®æ–‡ä»¶çš„è·¯å¾„</li>
<li><code>global-style</code>ï¼šä»¥å®‰è£…å…¨å±€ä¾èµ–çš„æ–¹å¼å®‰è£…å±€éƒ¨ä¾èµ–ï¼Œåªæœ‰ç›´æ¥ä¾èµ–ä¼šè¢«æ”¾åœ¨é¡¶å±‚ä¾èµ–ç›®å½•ä¸­</li>
<li><code>https-proxy</code>ï¼šä»£ç†</li>
<li><code>if-present</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œ<code>npm run-script</code> å°±ä¸ä¼šåœ¨è„šæœ¬æ‰¾ä¸åˆ°æ—¶æŠ¥é”™</li>
<li><code>ignore-scripts</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œnpm å°±ä¸ä¼šè¿è¡Œ <code>package.json</code> å®šä¹‰çš„è„šæœ¬</li>
<li><code>init-module</code>ï¼šæŒ‡å®š <code>npm init</code> å‘½ä»¤è¿è¡Œçš„æ¨¡å—</li>
<li><code>init-author-name</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ä½œè€…å</li>
<li><code>init-author-email</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ä½œè€…é‚®ç®±</li>
<li><code>init-author-url</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ä½œè€… URL</li>
<li><code>init-license</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤è®¸å¯è¯</li>
<li><code>init-version</code>ï¼š<code>npm init</code> ä½¿ç”¨çš„é»˜è®¤ç‰ˆæœ¬å·</li>
<li><code>json</code>ï¼š<code>npm ls</code> ç­‰å‘½ä»¤è¾“å‡º JSON æ ¼å¼çš„æ•°æ®</li>
<li><code>link</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œå¦‚æœå…¨å±€ä¾èµ–ä¸­æœ‰åˆé€‚çš„åŒ…ï¼Œå®‰è£…å±€éƒ¨ä¾èµ–æ—¶å°†ä¼šç›´æ¥é“¾æ¥åˆ°è¿™ä¸ªå…¨å±€ä¾èµ–çš„åŒ…ï¼›å¦‚æœå…¨å±€ä¾èµ–ä¸­æ²¡æœ‰è¯¥åŒ…çš„ä»»ä½•ç‰ˆæœ¬ï¼Œåˆ™å…¨å±€å®‰è£…è¿™ä¸ªåŒ…ï¼Œå¹¶é“¾æ¥åˆ°å±€éƒ¨ä¾èµ–ä¸­ï¼›å…¶ä»–æƒ…å†µåˆ™åœ¨å±€éƒ¨ä¾èµ–ä¸­å®‰è£…è¯¥åŒ…</li>
<li><code>long</code>ï¼š<code>npm ls</code> å’Œ <code>npm search</code> æ˜¾ç¤ºé¢å¤–ä¿¡æ¯</li>
<li><code>message</code>ï¼š<code>npm version</code> å†™åœ¨ git æäº¤ä¸­çš„ä¿¡æ¯ï¼Œ<code>%s</code> å°†è¢«æ›¿æ¢ä¸ºç‰ˆæœ¬å·</li>
<li><code>npat</code>ï¼šå®‰è£…æ—¶è¿è¡Œæµ‹è¯•</li>
<li><code>onload-script</code>ï¼šæŒ‡å®šä¸€ä¸ªåœ¨ npm åŠ è½½æ—¶ <code>require()</code> çš„åŒ…ï¼Œç¼–ç¨‹ä½¿ç”¨ npm æ—¶å¯èƒ½ä¼šæœ‰ç”¨</li>
<li><code>only</code>ï¼šä¸å‘½ä»¤ä¸­çš„ <code>--only</code> æ•ˆæœç±»ä¼¼</li>
<li><code>optional</code>ï¼šå¦‚æœç½®ä¸º <code>false</code>ï¼Œåˆ™ä¸å®‰è£… <code>optionalDependencies</code> ä¸­çš„ä¾èµ–</li>
<li><code>prefix</code>ï¼šæŒ‡å®šå®‰è£…å…¨å±€ä¾èµ–çš„è·¯å¾„</li>
<li><code>production</code>ï¼šå¦‚æœç½®ä¸º <code>true</code>ï¼Œåˆ™å¼€å¯ç”Ÿäº§æ¨¡å¼ï¼Œ<code>npm install</code> å°†ä¸å®‰è£…å¼€å‘ä¾èµ–ï¼Œå£°æ˜å‘¨æœŸè„šæœ¬è¿è¡Œæ—¶è‡ªåŠ¨è®¾ç½® <code>NODE_ENV=&quot;production&quot;</code></li>
<li><code>registry</code>ï¼šæŒ‡å®š npm registry çš„ URL</li>
<li><code>rollback</code>ï¼šç§»é™¤å®‰è£…å¤±è´¥çš„æ¨¡å—</li>
<li><code>save</code>ï¼šä¸å‘½ä»¤ä¸­çš„ <code>--save</code> æ•ˆæœç±»ä¼¼</li>
<li><code>scope</code>ï¼šä¸å‘½ä»¤ä¸­çš„ <code>--scope</code> æ•ˆæœç±»ä¼¼</li>
<li><code>shrinkwrap</code>ï¼šå¦‚æœç½®ä¸º <code>false</code>ï¼Œå®‰è£…æ—¶å¿½ç•¥ <code>npm-shrinkwrap.json</code></li>
<li><code>progress</code>ï¼šå¦‚æœç½®ä¸º <code>false</code>ï¼Œä¸æ˜¾ç¤ºè¿›åº¦æ¡</li>
<li><code>loglevel</code>ï¼šè®¾ç½®è¾“å‡ºæ—¥å¿—çš„ levelï¼Œç½®ä¸º <code>silly</code> å¯ä»¥æ˜¾ç¤ºå…¨éƒ¨æ—¥å¿—</li>
</ul>
<h3 id="npmignore"><a href="#npmignore" class="headerlink" title=".npmignore"></a>.npmignore</h3><p>å½“æ¨¡å—ç›®å½•ä¸­å­˜åœ¨ <code>.gitignore</code> ä½†æ²¡æœ‰ <code>.npmignore</code> æ—¶ï¼Œnpm å°†ä¼šå¿½ç•¥ <code>.gitignore</code> ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœç›®å½•ä¸­å­˜åœ¨ <code>.npmignore</code>ï¼Œnpm å°†ä¼šæ ¹æ® <code>.npmignore</code> å¿½ç•¥æ–‡ä»¶ã€‚</p>
<p>é»˜è®¤è¢« npm å¿½ç•¥ï¼Œä¸éœ€è¦æ·»åŠ åˆ° <code>.npmignore</code> ä¸­çš„æ–‡ä»¶ï¼š</p>
<ul>
<li><code>.*.swp</code></li>
<li><code>._*</code></li>
<li><code>.DS_Store</code></li>
<li><code>.git</code></li>
<li><code>.hg</code></li>
<li><code>.npmrc</code></li>
<li><code>.lock-wscript</code></li>
<li><code>.svn</code></li>
<li><code>.wafpickle-*</code></li>
<li><code>config.gypi</code></li>
<li><code>CVS</code></li>
<li><code>npm-debug.log</code></li>
</ul>
<p>é™¤äº† bundled dependencies å¤–ï¼Œnode_modules ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚</p>
<p>ä¸‹é¢çš„æ–‡ä»¶å³ä½¿æ·»åŠ åˆ° <code>.npmignore</code> ä¸­çš„æ–‡ä»¶ä¹Ÿä¸ä¼šè¢«å¿½ç•¥ï¼š</p>
<ul>
<li><code>package.json</code></li>
<li><code>README</code>ï¼ˆåŠå…¶å˜ä½“ï¼‰</li>
<li><code>CHANGELOG</code>ï¼ˆåŠå…¶å˜ä½“ï¼‰</li>
<li><code>LICENSE</code>ã€<code>LICENCE</code></li>
</ul>
<h3 id="scripts"><a href="#scripts" class="headerlink" title="scripts"></a>scripts</h3><p>npm æ”¯æŒçš„ç”Ÿå‘½å‘¨æœŸè„šæœ¬æœ‰ï¼š</p>
<ul>
<li><code>prepublish</code>: å‘å¸ƒæ¨¡å—ä¹‹å‰æ‰§è¡Œï¼Œä¹Ÿåœ¨ä¸å¸¦ä»»ä½•å‚æ•°çš„å±€éƒ¨ <code>npm install</code> ä¹‹å‰æ‰§è¡Œ</li>
<li><code>publish</code>ã€<code>postpublish</code>: å‘å¸ƒæ¨¡å—ä¹‹åæ‰§è¡Œ</li>
<li><code>preinstall</code>: å®‰è£…è¯¥æ¨¡å—ä¹‹å‰æ‰§è¡Œ</li>
<li><code>install</code>ã€<code>postinstall</code>: å®‰è£…è¯¥æ¨¡å—ä¹‹åæ‰§è¡Œ</li>
<li><code>preuninstall</code>ã€<code>uninstall</code>: ç§»é™¤è¯¥æ¨¡å—ä¹‹å‰æ‰§è¡Œ</li>
<li><code>postuninstall</code>: ç§»é™¤è¯¥æ¨¡å—ä¹‹åæ‰§è¡Œ</li>
<li><code>preversion</code>ã€<code>version</code>: ä¿®æ”¹æ¨¡å—ç‰ˆæœ¬å·ä¹‹å‰æ‰§è¡Œ</li>
<li><code>postversion</code>: ä¿®æ”¹æ¨¡å—ç‰ˆæœ¬å·ä¹‹åæ‰§è¡Œ</li>
<li><code>pretest</code>ã€<code>test</code>ã€<code>posttest</code>: åœ¨ <code>test</code> å‘½ä»¤çš„å‰åæ‰§è¡Œ</li>
<li><code>prestop</code>ã€<code>stop</code>ã€<code>poststop</code>: åœ¨ <code>stop</code> å‘½ä»¤çš„å‰åæ‰§è¡Œ</li>
<li><code>prestart</code>ã€<code>start</code>ã€<code>poststart</code>: åœ¨ <code>start</code> å‘½ä»¤çš„å‰åæ‰§è¡Œ.</li>
<li><code>prerestart</code>ã€<code>restart</code>ã€<code>postrestart</code>: åœ¨ <code>restart</code> å‘½ä»¤çš„å‰åæ‰§è¡Œï¼Œå¦‚æœ <code>restart</code> è„šæœ¬æ²¡æœ‰æä¾›ï¼Œ<code>restart</code> å‘½ä»¤å°†ä¼šæ‰§è¡Œ <code>stop</code> è„šæœ¬å†æ‰§è¡Œ <code>start</code> è„šæœ¬</li>
</ul>
<p>å¯¹äºè‡ªå®šä¹‰åç§°çš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡ <code>npm run-script &lt;pkg&gt; &lt;stage&gt;</code> æ¥æ‰§è¡Œï¼ŒåŒ¹é…åç§°çš„ <em>pre</em> å’Œ <em>post</em> å‘½ä»¤åŒæ ·ä¹Ÿä¼šæ‰§è¡Œã€‚</p>
<h3 id="shrinkwrap"><a href="#shrinkwrap" class="headerlink" title="shrinkwrap"></a>shrinkwrap</h3><p><code>npm shrinkwrap</code> å¯ä»¥ç”¨æ¥é”å®šä¾èµ–çš„ç‰ˆæœ¬å·ã€‚</p>
<p>ä¸€ä¸ªä½¿ç”¨çš„ğŸŒ°ï¼š</p>
<ol>
<li><p>æˆ‘ä»¬æœ‰æ¨¡å— Aï¼š</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"A"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"0.0.1"</span>,</div><div class="line">  <span class="string">"dependencies"</span>: &#123;</div><div class="line">    <span class="string">"B"</span>: <span class="string">"&lt;0.1.0"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> æ¨¡å— Bï¼š</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"B"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"0.0.1"</span>,</div><div class="line">  <span class="string">"dependencies"</span>: &#123;</div><div class="line">    <span class="string">"C"</span>: <span class="string">"&lt;0.1.0"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> å’Œæ¨¡å— Cï¼š</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"C"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"0.0.1"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> è¿™ä¸‰ä¸ªæ¨¡å—éƒ½åªæœ‰ 0.0.1 è¿™ä¸€ä¸ªç‰ˆæœ¬ã€‚æ­¤æ—¶è¿è¡Œ <code>npm install A</code>ï¼Œå°†ä¼šå¾—åˆ°ï¼š</p>
 <figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A@<span class="number">0.0</span><span class="number">.1</span></div><div class="line">`-- B@<span class="number">0.0</span><span class="number">.1</span></div><div class="line">    `-- C@<span class="number">0.0</span><span class="number">.1</span></div></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœæ¨¡å— B å‘å¸ƒäº† 0.0.2 ç‰ˆæœ¬ï¼Œæ­¤æ—¶è¿è¡Œ <code>npm install A</code>ï¼Œå°†ä¼šå¾—åˆ°ï¼š</p>
 <figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A@<span class="number">0.0</span><span class="number">.1</span></div><div class="line">`-- B@<span class="number">0.0</span><span class="number">.2</span></div><div class="line">    `-- C@<span class="number">0.0</span><span class="number">.1</span></div></pre></td></tr></table></figure>
<p> ä½†æ˜¯æ¨¡å— A çš„ä½œè€…å¸Œæœ›å®‰è£…åŸæ¥çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä»–å¯ä»¥è¿è¡Œï¼š</p>
 <figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> shrinkwrap</div></pre></td></tr></table></figure>
<p> ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸‹å¾—åˆ°äº†ä¸€ä¸ª <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼š</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"A"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"0.0.1"</span>,</div><div class="line">  <span class="string">"dependencies"</span>: &#123;</div><div class="line">    <span class="string">"B"</span>: &#123;</div><div class="line">      <span class="string">"version"</span>: <span class="string">"0.0.1"</span>,</div><div class="line">      <span class="string">"from"</span>: <span class="string">"B@&lt;0.1.0"</span>,</div><div class="line">      <span class="string">"resolved"</span>: <span class="string">"https://registry.npmjs.org/B/-/B-0.0.1.tgz"</span>,</div><div class="line">      <span class="string">"dependencies"</span>: &#123;</div><div class="line">        <span class="string">"C"</span>: &#123;</div><div class="line">          <span class="string">"version"</span>: <span class="string">"0.0.1"</span>,</div><div class="line">          <span class="string">"from"</span>: <span class="string">"C@&lt;0.1.0"</span>,</div><div class="line">          <span class="string">"resolved"</span>: <span class="string">"https://registry.npmjs.org/C/-/C-0.0.1.tgz"</span></div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> <code>npm shrinkwrap</code> å‘½ä»¤æ ¹æ®å½“å‰ç›®å½•ä¸­çš„ node_modules ç›®å½•é”å®šäº†ä¾èµ–ç‰ˆæœ¬å·ï¼Œæ­¤æ—¶å†è¿è¡Œ <code>npm install</code>ï¼Œè¯¥å‘½ä»¤çš„è¡Œä¸ºå°†å˜ä¸ºï¼š</p>
<ol>
<li>é‡æ–°æ„é€  <code>npm-shrinkwrap.json</code> ä¸­æè¿°çš„ä¾èµ–æ ‘ï¼Œå¦‚æœä¸€ä¸ªä¾èµ–é¡¹ä¸­çš„ <code>resolved</code> å­—æ®µå¯ç”¨ï¼Œåˆ™ä½¿ç”¨è¯¥å­—æ®µè·å–ä¾èµ–ï¼Œå¦åˆ™ä½¿ç”¨ <code>version</code> å­—æ®µæ¥è·å–ä¾èµ–</li>
<li>ä»¥æ™®é€šçš„æ–¹å¼å®‰è£… <code>npm-shrinkwrap.json</code> ä¸­ç¼ºå¤±çš„ä¾èµ–</li>
</ol>
</li>
</ol>
<hr>
<p>æ·»åŠ æˆ–å‡çº§ä¾èµ–åŒ…çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>æ·»åŠ æˆ–å‡çº§ä¸€ä¸ªä¾èµ–åŒ…</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> <span class="comment">--save &lt;pkg&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>å‡çº§æ‰€æœ‰ä¾èµ–åŒ…</p>
  <figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> install --<span class="literal">no</span>-shrinkwrap</div></pre></td></tr></table></figure>
</li>
</ul>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li>å¦‚æœ node_modules ç›®å½•ä¸­çš„ä¾èµ–æ¯” <code>package.json</code> ä¸­å®šä¹‰çš„å¤šæˆ–è€…å°‘ï¼Œ<code>npm shrinkwrap</code> å‘½ä»¤å°†ä¼šå¤±è´¥</li>
<li><code>npm shrinkwrap</code> å‘½ä»¤ä¸é”å®š <code>devDependencies</code> ä¸­ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå³ <code>npm-shrinkwrap.json</code> ä¸­ä¸åŒ…å«å¼€å‘ä¾èµ–ï¼›å¦‚æœå¸Œæœ›é”å®šå¼€å‘ä¾èµ–çš„ç‰ˆæœ¬ï¼Œåˆ™éœ€è¦åœ¨è¿è¡Œå‘½ä»¤æ—¶åŠ ä¸Š <code>--dev</code> å‚æ•°</li>
<li>shrinkwrap ä¸ä¼šç»§æ‰¿ï¼Œå³æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šè®¿é—®ä¾èµ–çš„ <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼›ä½†æ˜¯ï¼Œä¾èµ–ä¸­å¦‚æœæœ‰ <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼Œåœ¨å®‰è£…è¯¥ä¾èµ–çš„æ—¶å°±ä¼šæŒ‰ç…§è¿™ä¸ªæ–‡ä»¶æ¥å®‰è£…ç›¸å…³çš„æ¨¡å—åˆ° node_modules ç›®å½•ä¸­ï¼Œå¦‚æœæ²¡æœ‰ <code>npm-shrinkwrap.json</code> æ–‡ä»¶ï¼Œå¼€å‘è€…éœ€è¦åœ¨ä½¿ç”¨ shrinkwrap å‰è‡ªè¡Œç¡®è®¤ node_modules ç›®å½•ä¸­çš„ä¾èµ–éƒ½æ˜¯æœ‰æ•ˆçš„ï¼›shrinkwrap æ€»æ˜¯æ®å½“å‰ç›®å½•ä¸­çš„ node_modules ç›®å½•ä¸­çš„å†…å®¹é”å®šä¾èµ–ç‰ˆæœ¬å·</li>
</ol>
<h3 id="cache"><a href="#cache" class="headerlink" title="cache"></a>cache</h3><p>npm å°†æ•°æ®ç¼“å­˜åœ¨ <code>npm config get cache</code> å‘½ä»¤æŒ‡å®šçš„è·¯å¾„ä¸­ã€‚</p>
<p>å½“å±€éƒ¨å®‰è£…ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œnpm ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>æ£€æŸ¥ç¼“å­˜ä¸­çš„æ¨¡å—ä¿¡æ¯æ–‡ä»¶ï¼ˆ.cache.jsonï¼ŒåŒ…æ‹¬ ETag ç­‰ä¿¡æ¯ï¼‰æ˜¯å¦å­˜åœ¨å¹¶åœ¨å…æ£€æ—¶é—´å†…</li>
<li>å¦‚æœå­˜åœ¨åˆé€‚çš„ç¼“å­˜ä¿¡æ¯æ–‡ä»¶ä¸”æ²¡æœ‰è¶…è¿‡å…æ£€æ—¶é—´ï¼Œæ‰§è¡Œæ­¥éª¤ 6</li>
<li>è·å–è¯¥æ¨¡å—çš„æœ€æ–°ä¿¡æ¯æ–‡ä»¶ï¼Œç„¶åè®¡ç®—å‡ºåˆé€‚çš„æ¨¡å—ç‰ˆæœ¬å·</li>
<li>å¦‚æœç¼“å­˜ä¸­æœ‰è¯¥ç‰ˆæœ¬å·çš„æ¨¡å—ï¼Œåˆ™æ‰§è¡Œæ­¥éª¤ 6</li>
<li>ä¸‹è½½è¯¥ç‰ˆæœ¬å·çš„æ¨¡å—ï¼Œå¹¶å°†å…¶è½½å…¥ç¼“å­˜ä¸­</li>
<li>å–ç¼“å­˜ä¸­çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶å®‰è£…è‡³ç›®æ ‡è·¯å¾„ä¸­</li>
</ol>
<p><code>npm cache</code> å‘½ä»¤çš„ç”¨æ³•ï¼š</p>
<ol>
<li><p>å‘ç¼“å­˜ä¸­æ·»åŠ æŒ‡å®šçš„æ¨¡å—ï¼š</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">cache</span> <span class="keyword">add</span> &lt;tarball <span class="keyword">file</span>&gt;</div><div class="line">npm <span class="keyword">cache</span> <span class="keyword">add</span> &lt;folder&gt;</div><div class="line">npm <span class="keyword">cache</span> <span class="keyword">add</span> &lt;tarball <span class="keyword">url</span>&gt;</div><div class="line">npm <span class="keyword">cache</span> <span class="keyword">add</span> &lt;<span class="keyword">name</span>&gt;@&lt;<span class="keyword">version</span>&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>æ˜¾ç¤ºç¼“å­˜ä¸­çš„æ•°æ®ï¼š</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm cache ls <span class="meta">[&lt;path&gt;]</span></div></pre></td></tr></table></figure>
</li>
<li><p>æ¸…ç©ºç¼“å­˜ï¼š</p>
 <figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm cache clean <span class="meta">[&lt;path&gt;]</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>npm ç¼“å­˜çš„æ”¹è¿›æ–¹æ¡ˆï¼š</p>
<ol>
<li><p><a href="https://github.com/nolanlawson/local-npm">local-npm</a>ï¼šä¸€ä¸ªæœ¬åœ° npm é•œåƒï¼Œä½†æ˜¯ä»…ç¼“å­˜å·²ç»å®‰è£…è¿‡çš„æ¨¡å—ï¼Œæ²¡æœ‰ç½‘ç»œæ—¶è‡ªåŠ¨å›é€€åˆ°æœ¬åœ°</p>
</li>
<li><p><a href="https://github.com/mixu/npm_lazy">npm_lazy</a></p>
</li>
</ol>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/MyBlog/2017/05/01/animation-timeing-functionä¹‹stepså±æ€§è¯¦è§£/" data-toggle="tooltip" data-placement="top" title="animation-timeing-functionä¹‹stepså±æ€§è¯¦è§£">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/MyBlog/2017/04/10/metaæ ‡ç­¾çš„å­¦ä¹ /" data-toggle="tooltip" data-placement="top" title="metaæ ‡ç­¾çš„å­¦ä¹ ">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                
                <!-- disqus è¯„è®ºæ¡† start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus è¯„è®ºæ¡† end -->
                

            </div>
    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/MyBlog/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/MyBlog/tags/#çŸ¥è¯†ç‚¹" title="çŸ¥è¯†ç‚¹">çŸ¥è¯†ç‚¹</a>
                        
                          <a class="tag" href="/MyBlog/tags/#å‰ç«¯" title="å‰ç«¯">å‰ç«¯</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://www.shu.edu.cn" target="_blank">ä¸Šæµ·å¤§å­¦</a></li>
                    
                        <li><a href="http://www.imooc.com/" target="_blank">IMooc</a></li>
                    
                        <li><a href="https://stackoverflow.com/" target="_blank">Stack Overflow</a></li>
                    
                        <li><a href="https://www.codewars.com/dashboard" target="_blank">Codewars</a></li>
                    
                        <li><a href="https://leetcode.com/" target="_blank">LeetCode </a></li>
                    
                        <li><a href="https://www.nowcoder.com/4503581" target="_blank">ç‰›å®¢ç½‘ </a></li>
                    
                        <li><a href="https://developer.mozilla.org/en-US/" target="_blank">MDN </a></li>
                    
                        <li><a href="http://www.w3cschool.cn/" target="_blank">W3Cschool </a></li>
                    
                </ul>
                
            </div>

        </div>
    </div>
</article>




<!-- disqus å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "hexo-theme-huxblog";
    var disqus_identifier = "https://github.com/MrZhangFengfeng/MyBlog/MyBlog/2017/04/13/npmåŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§/";
    var disqus_url = "https://github.com/MrZhangFengfeng/MyBlog/MyBlog/2017/04/13/npmåŸºæœ¬ç”¨æ³•å’Œå®ç”¨æŠ€å·§/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus å…¬å…±JSä»£ç  end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/Mrå¼ å³°å³°">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">çŸ¥</i>
                            </span>
                        </a>
                    </li>
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/MrZhangFengfeng">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; ZFf Blog 2017 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/MyBlog/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/MyBlog/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/MyBlog/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://github.com/MrZhangFengfeng/MyBlog/MyBlog/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-49627206-1';
    var _gaDomain = 'huangxuan.me';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '4cc1f2d8f3067386cc5cdb626a202900';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>


<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/MyBlog/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<img src="https://github.com/MrZhangFengfeng/MyBlog/MyBlog/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
